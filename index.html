<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Mounjaro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      transform-origin: top center;
      zoom: reset;
    }
    .syringe-wrap {width:100%;max-width:9920px;margin:40px auto 10px;padding:12px;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);position:relative}
    .syringe {position:relative;height:50px;border:0px solid #222;border-radius:10px;background:linear-gradient(180deg,#fff,#f7f7f7)}
    .syringe .fill {position:absolute;left:0;top:0;bottom:0;width:0;background:#009dff;transition:width 0.4s ease}
    .ticks {position:absolute;left:0;right:0;bottom:0;height:100%}
    .tick {position:absolute;bottom:0;width:2px;background:#222}
    .tick.big {height:25px}
    .tick.small {height:12px;opacity:0.7}
    .tick-label {position:absolute;top:4px;font-size:15px;transform:translateX(-50%);color:#111}
    .syringe-image {width:100%;max-width:720px;height:70px;margin:0 auto;display:block;object-fit:contain;position:absolute;top:-73px;left:0;right:0}
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-start p-2 sm:p-4 gap-4">

  <div class="flex flex-col md:flex-row w-full max-w-4xl gap-4 items-start">
    <!-- الصورة يسار -->
    <div id="image-container" class="w-full md:w-1/2 h-48 sm:h-60 flex items-center justify-center">
      <img src="https://www.mediafire.com/convkey/9c77/ygfjtf7mnymqmz89g.jpg?size_id=7" alt="KwikPen" class="max-h-48 sm:max-h-60">
    </div>

    <!-- خيارات يمين -->
    <div class="w-full md:w-1/2 flex flex-col items-start bg-white p-3 sm:p-4 rounded-2xl shadow">
      <h1 class="text-lg sm:text-xl font-bold mb-3">Mounjaro KwikPen (0.6mL)</h1>

      <div class="flex flex-col gap-2 mb-4 text-sm sm:text-base">

        <!-- خيار Pre-filled Pen (مخفي) -->
        <label class="hidden items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="pens" class="w-5 h-5">
          <span>Mounjaro Pre-filled Pen (0.5mL)</span>
        </label>

        <!-- خيار KwikPen (مخفي لكن محدد تلقائيا) -->
        <label class="hidden items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="kwik" class="w-5 h-5" checked>
          <span>Mounjaro KwikPen (0.6mL)</span>
        </label>

        <!-- خيار Vial (مخفي) -->
        <label class="hidden items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="vial" class="w-5 h-5">
          <span>Mounjaro Vial (0.5mL)</span>
        </label>

        <!-- رابط KwikPen فقط ظاهر -->
        <a id="kwik-link" href="https://files.mealabels.gulf.lilly.com/content/mounjaro-kwikpen/lebanon/arabic_instructions_for_use.pdf" target="_blank" class="text-blue-700 font-bold underline">طريقة الاستخدام اضغط هنا</a>

      </div>

      <!-- خيار الجرعة الذهبية -->
      <div id="golden-dose-container" class="flex items-center gap-2 cursor-pointer mt-2">
        <input type="checkbox" id="golden-dose" class="w-5 h-5">
        <label for="golden-dose" class="font-semibold text-yellow-600 text-sm sm:text-base">استخدم الجرعة الذهبية ✨</label>
      </div>
    </div>
  </div>

  <!-- باقي الصفحة كما هي -->
  <div class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center">
    <h2 class="text-base sm:text-lg font-semibold mb-3">💉حدد جرعة القلم</h2>
    <div class="grid grid-cols-3 sm:grid-cols-7 gap-2 justify-center" id="dose-group-1">
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#56585C">2.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#310072">5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#007c66">7.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#c6007e">10 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#096be2">12.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#fc3232">15 mg</button>
    </div>
  </div>

  <div class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center">
    <h2 class="text-base sm:text-lg font-semibold mb-3">🎯 حدد الجرعة المطلوبة</h2>
    <div class="grid grid-cols-3 sm:grid-cols-7 gap-2 justify-center" id="dose-group-2">
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#56585C">2.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#310072">5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#007c66">7.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#c6007e">10 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#096be2">12.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#fc3232">15 mg</button>
      <input id="dose-input-2" type="number" step="0.1" placeholder="او اكتب هنا" class="dose-input border border-gray-300 rounded-lg py-2 px-2 text-center text-sm sm:text-base focus:ring-2 focus:ring-blue-500">
    </div>
  </div>

  <div id="result" class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center text-lg sm:text-xl font-bold text-gray-800">
    
  </div>

  <div class="syringe-wrap" id="syringeWrap" style="display:none; margin-top:60px;">
    <img src="https://www.mediafire.com/convkey/205f/4r9jw4nsd8cy0kc9g.jpg?size_id=8" alt="Needle" class="syringe-image">
    <div class="syringe">
      <div class="fill" id="syringeFill"></div>
      <div class="ticks" id="syringeTicks"></div>
    </div>
  </div>

  <script>
    // إعداد تلقائي لـ KwikPen فقط
    const selectedProduct = "kwik";
    const goldenCheckbox = document.getElementById("golden-dose");
    const result = document.getElementById("result");

    const productValues = {
      kwik: 0.6
    };

    let dose1 = null;
    let dose2 = null;

    function formatNumber(num) {
      if (Number.isInteger(num)) return num.toString();
      return parseFloat(num.toFixed(1)).toString();
    }

    function formatTicks(calc) {
      return calc.toFixed(2).split(".")[1];
    }

    function calculateResult() {
      if (dose1 && dose2) {
        let calc = (dose2 / dose1) * productValues[selectedProduct];
        let formattedTicks = formatTicks(calc);
        let weeks = goldenCheckbox.checked ? (productValues[selectedProduct] * 5) / calc : (productValues[selectedProduct] * 4) / calc;
        let months = weeks / 4;
        result.textContent = `✅ النتيجة: ${formattedTicks} تكة او ملي ( عدد الاشهر  ${formatNumber(months)}  ) `;
        showSyringe(formattedTicks);
      }
    }

    function buildTicks() {
      const ticks = document.getElementById('syringeTicks');
      ticks.innerHTML = '';
      const colors = ["#FAFAFA","#000000","#FAFAFA","#000000","#FAFAFA","#000000","#FAFAFA","#000000","#FAFAFA"];
      let colorIndex = 0;
      for (let u=0; u<=100; u+=10) {
        const pos = (u/100)*100;
        const big = document.createElement('div');
        big.className = 'tick big';
        big.style.left = pos+'%';
        ticks.appendChild(big);
        const label = document.createElement('div');
        label.className = 'tick-label';
        label.style.left = pos+'%';
        label.textContent = u;
        ticks.appendChild(label);
        if (u<100) {
          for (let i=1; i<=9; i++) {
            const p = u + (i * (10/10));
            const small = document.createElement('div');
            small.className = 'tick small';
            small.style.left = (p)+'%';
            small.style.backgroundColor = colors[colorIndex % colors.length];
            if (small.style.backgroundColor === 'rgb(250, 250, 250)') small.style.height = '0.5px';
            colorIndex++;
            ticks.appendChild(small);
          }
        }
      }
    }

    function showSyringe(units) {
      const wrap = document.getElementById('syringeWrap');
      const fill = document.getElementById('syringeFill');
      wrap.style.display = 'block';
      const u = Math.max(0, Math.min(100, Number(units) || 0));
      fill.style.width = u + '%';
    }

    function setupDoseGroup(groupId, isDose1) {
      const group = document.getElementById(groupId);
      const buttons = group.querySelectorAll('.dose-btn');
      const input = group.querySelector('.dose-input');
      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          buttons.forEach(b => b.classList.remove("ring-4", "ring-yellow-400"));
          btn.classList.add("ring-4", "ring-yellow-400");
          const mg = parseFloat(btn.textContent) || 0;
          if (isDose1) dose1 = mg; else dose2 = mg;
          calculateResult();
        });
      });
      if (input) {
        input.addEventListener('input', () => {
          buttons.forEach(b => b.classList.remove("ring-4", "ring-yellow-400"));
          const mg = parseFloat(input.value) || 0;
          if (isDose1) dose1 = mg; else dose2 = mg;
          calculateResult();
        });
      }
    }

    goldenCheckbox.addEventListener('change', calculateResult);
    buildTicks();
    setupDoseGroup("dose-group-1", true);
    setupDoseGroup("dose-group-2", false);
  </script>

</body>
</html>
