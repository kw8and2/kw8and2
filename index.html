
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Mounjaro❣️</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      transform-origin: top center;
      zoom: reset;
    }
    .syringe-wrap {width:100%;max-width:9920px;margin:40px auto 10px;padding:12px;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);position:relative}
    .syringe {position:relative;height:70px;border:0px solid #222;border-radius:8px;background:linear-gradient(180deg,#fff,#f7f7f7)}
    .syringe .fill {position:absolute;left:0;top:0;bottom:0;width:0;background:#FD6500;transition:width 0.4s ease}
    .ticks {position:absolute;left:0;right:0;bottom:0;height:100%}
    .tick {position:absolute;bottom:0;width:2px;background:#222}
    .tick.big {height:25px}
    .tick.small {height:12px;opacity:0.7}
    .tick-label {position:absolute;top:4px;font-size:12px;transform:translateX(-50%);color:#111}
    .syringe-image {width:100%;max-width:720px;height:70px;margin:0 auto;display:block;object-fit:contain;position:absolute;top:-73px;left:0;right:0}
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-start p-2 sm:p-4 gap-4">

  <div class="flex flex-col md:flex-row w-full max-w-4xl gap-4 items-start">
    <!-- الصورة يسار -->
    <div id="image-container" class="w-full md:w-1/2 h-48 sm:h-60 flex items-center justify-center">
      <p id="placeholder-text" class="text-red-600 font-bold flex items-center gap-2 text-center">
        <span>⚠️</span> لم يتم اختيار أي خيار بعد
      </p>
    </div>

    <!-- خيارات يمين -->
    <div class="w-full md:w-1/2 flex flex-col items-start bg-white p-3 sm:p-4 rounded-2xl shadow">
      <h1 class="text-lg sm:text-xl font-bold mb-3">نوع الابرة</h1>

      <div class="flex flex-col gap-2 mb-4 text-sm sm:text-base">
        <label class="flex items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="pens" class="w-5 h-5">
          <span>Pre-filled Pens (0.5mL)</span>
        </label>
        <a id="pens-link" href="https://files.mealabels.gulf.lilly.com/content/mounjaro/kuwait/arabic%20instructions%20for%20use.pdf" target="_blank" class="text-blue-700 font-bold underline hidden">طريقة الاستخدام اضغط هنا</a>

        <label class="flex items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="kwik" class="w-5 h-5">
          <span>KwikPen (0.6mL)</span>
        </label>
        <a id="kwik-link" href="https://files.mealabels.gulf.lilly.com/content/mounjaro-kwikpen/kuwait/english-arabic_instructions_for_use.pdf" target="_blank" class="text-blue-700 font-bold underline hidden">طريقة الاستخدام اضغط هنا</a>

        <label class="flex items-center gap-2 cursor-pointer">
          <input type="radio" name="product" value="vial" class="w-5 h-5">
          <span>Vial (0.5mL)</span>
        </label>
        <a id="vial-link" href="https://files.mealabels.gulf.lilly.com/content/mounjaro-vial/bahrain/english%20physician%20information%20%26%20english-arabic%20patient%20information%20%26%20instructions%20for%20use.pdf" target="_blank" class="text-blue-700 font-bold underline hidden">طريقة الاستخدام اضغط هنا</a>
      </div>

      <!-- خيار منفصل استخدام الجرعة الذهبية (يظهر فقط عند اختيار KwikPen) -->
      <div id="golden-dose-container" class="flex items-center gap-2 cursor-pointer mt-2 hidden">
        <input type="checkbox" id="golden-dose" class="w-5 h-5">
        <label for="golden-dose" class="font-semibold text-yellow-600 text-sm sm:text-base">استخدم الجرعة الذهبية ✨</label>
      </div>
    </div>
  </div>

  <!-- باقي الصفحة كما هي -->
  <div class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center">
    <h2 class="text-base sm:text-lg font-semibold mb-3">💉 جرعة الابرة</h2>
    <div class="grid grid-cols-3 sm:grid-cols-7 gap-2 justify-center" id="dose-group-1">
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#56585C">2.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#4e007f">5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#007c66">7.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#c6007e">10 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#096be2">12.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#fc3232">15 mg</button>
      <input id="dose-input-1" type="number" step="0.1" placeholder="او اكتب هنا" class="dose-input border border-gray-300 rounded-lg py-2 px-2 text-center text-sm sm:text-base focus:ring-2 focus:ring-blue-500">
    </div>
  </div>

  <div class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center">
    <h2 class="text-base sm:text-lg font-semibold mb-3">🎯 الجرعة المطلوبة</h2>
    <div class="grid grid-cols-3 sm:grid-cols-7 gap-2 justify-center" id="dose-group-2">
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#56585C">2.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#4e007f">5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#007c66">7.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#c6007e">10 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#096be2">12.5 mg</button>
      <button class="dose-btn text-white font-bold py-2 px-2 sm:px-3 rounded-lg shadow" style="background:#fc3232">15 mg</button>
      <input id="dose-input-2" type="number" step="0.1" placeholder="او اكتب هنا" class="dose-input border border-gray-300 rounded-lg py-2 px-2 text-center text-sm sm:text-base focus:ring-2 focus:ring-blue-500">
    </div>
  </div>

  <div id="result" class="w-full max-w-4xl bg-white p-3 sm:p-4 rounded-2xl shadow text-center text-lg sm:text-xl font-bold text-gray-800">
    💡 النتيجة ستظهر هنا
  </div>

  <div class="syringe-wrap" id="syringeWrap" style="display:none; margin-top:60px;">
    <img src="https://www.mediafire.com/convkey/205f/4r9jw4nsd8cy0kc9g.jpg?size_id=8" alt="Needle" class="syringe-image">
    <div class="syringe">
      <div class="fill" id="syringeFill"></div>
      <div class="ticks" id="syringeTicks"></div>
    </div>
  </div>

  <!-- رابط الإبلاغ عن الخلل -->
  <div class="w-full max-w-4xl text-left mt-6">
    <a href="https://t.me/Brook" target="_blank" class="text-blue-600 text-xs underline">اخبرني اذا هناك خلل في الصفحة</a>
  </div>

  <script>
    const radios = document.querySelectorAll('input[name="product"]');
    const container = document.getElementById("image-container");
    const placeholderText = document.getElementById("placeholder-text");
    const result = document.getElementById("result");
    const goldenContainer = document.getElementById("golden-dose-container");
    const goldenCheckbox = document.getElementById("golden-dose");
    const pensLink = document.getElementById("pens-link");
    const kwikLink = document.getElementById("kwik-link");
    const vialLink = document.getElementById("vial-link");

    let selectedProduct = null;
    let dose1 = null;
    let dose2 = null;

    const productValues = {
      pens: 0.5,
      kwik: 0.6,
      vial: 0.5
    };

    function formatNumber(num) {
      if (Number.isInteger(num)) {
        return num.toString();
      } else {
        return parseFloat(num.toFixed(1)).toString();
      }
    }

    function formatTicks(calc){
      let str = calc.toFixed(2).split(".")[1];
      return str;
    }

    function calculateResult() {
      if (dose1 && dose2 && selectedProduct) {
        let calc = (dose2 / dose1) * productValues[selectedProduct];

        let formattedTicks = formatTicks(calc);

        let weeks = 0;
        if (selectedProduct === 'kwik' && goldenCheckbox.checked) {
          weeks = (productValues[selectedProduct] * 5) / calc;
        } else {
          weeks = (productValues[selectedProduct] * 4) / calc;
        }
        let formattedWeeks = formatNumber(weeks);

        result.textContent = `✅ النتيجة: ${formattedTicks} تكة او مل (${formattedWeeks} أسبوع) `;
        showSyringe(formattedTicks);
      }
    }

    function buildTicks(){
      const ticks=document.getElementById('syringeTicks');
      ticks.innerHTML='';
      for(let u=0;u<=100;u+=10){
        const pos=(u/100)*100;
        const big=document.createElement('div');
        big.className='tick big';
        big.style.left=pos+'%';
        ticks.appendChild(big);
        const label=document.createElement('div');
        label.className='tick-label';
        label.style.left=pos+'%';
        label.textContent=u;
        ticks.appendChild(label);
        if(u<100){
          for(let i=1;i<=4;i++){
            const p = u + (i * 2);
            const small=document.createElement('div');
            small.className='tick small';
            small.style.left=(p/100*100)+'%';
            ticks.appendChild(small);
          }
        }
      }
    }

    function showSyringe(units){
      const wrap=document.getElementById('syringeWrap');
      const fill=document.getElementById('syringeFill');
      wrap.style.display='block';
      const u=Math.max(0,Math.min(100,Number(units)||0));
      fill.style.width=u+'%';
    }

    radios.forEach(radio => {
      radio.addEventListener('change', () => {
        selectedProduct = radio.value;
        let img = "";
        let text = "";

        pensLink.classList.add("hidden");
        kwikLink.classList.add("hidden");
        vialLink.classList.add("hidden");

        if (radio.value === "pens") {
          img = '<img src="https://www.mediafire.com/convkey/5fc5/f0ws8hky9mteknr9g.jpg?size_id=5" alt="Pre-filled Pens" class="max-h-48 sm:max-h-60">';
          text = "✅ اخترت النوع: Pre-filled Pens";
          pensLink.classList.remove("hidden");
          goldenContainer.classList.add("hidden");
          goldenCheckbox.checked = false;
        } else if (radio.value === "kwik") {
          img = '<img src="https://assets.zyrosite.com/cdn-cgi/image/format=auto,w=1440,h=756,fit=crop,f=jpeg/m6LwPO9OxyfDM5GN/moun-injection-Ylev471pQGc1LqD1.jpg" alt="KwikPen" class="max-h-48 sm:max-h-60">';
          text = "✅ اخترت النوع: KwikPen";
          kwikLink.classList.remove("hidden");
          goldenContainer.classList.remove("hidden");
        } else if (radio.value === "vial") {
          img = '<img src="https://www.mediafire.com/convkey/3893/jmizc8gfqkzfvuu9g.jpg?size_id=6" alt="Vial" class="max-h-48 sm:max-h-60">';
          text = "✅ اخترت النوع: Vial";
          vialLink.classList.remove("hidden");
          goldenContainer.classList.add("hidden");
          goldenCheckbox.checked = false;
        }
        container.innerHTML = img;
        result.textContent = text;
        calculateResult();
      });
    });

    goldenCheckbox.addEventListener('change', () => {
      calculateResult();
    });

    function setupDoseGroup(groupId, isDose1) {
      const group = document.getElementById(groupId);
      const buttons = group.querySelectorAll('.dose-btn');
      const input = group.querySelector('.dose-input');

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          buttons.forEach(b => b.classList.remove("ring-4", "ring-yellow-400"));
          btn.classList.add("ring-4", "ring-yellow-400");

          const mg = parseFloat(btn.textContent) || 0;
          if (isDose1) dose1 = mg; else dose2 = mg;
          calculateResult();
        });
      });

      if (input) {
        input.addEventListener('input', () => {
          buttons.forEach(b => b.classList.remove("ring-4", "ring-yellow-400"));
          const mg = parseFloat(input.value) || 0;
          if (isDose1) dose1 = mg; else dose2 = mg;
          calculateResult();
        });
      }
    }

    buildTicks();
    setupDoseGroup("dose-group-1", true);
    setupDoseGroup("dose-group-2", false);
  </script>

</body>
</html>